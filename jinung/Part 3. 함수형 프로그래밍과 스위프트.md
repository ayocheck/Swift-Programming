## Part 3. 함수형 프로그래밍과 스위프트

### Chapter 13. 클로저

- 클로저는 변수나 상수가 선언된 위치에서 참조를 획득할 수 있다.
- 클로저는 **참조 타입**
- `@escaping`
    - 비동기 작업으로 함수가 종료되고 난 후 호출할 필요가 있는 클로저를 사용해야 할 때
    - 함수 외부에 정의된 변수나 상수에 저장되어 함수가 종료된 후 사용할 때
    - 함수의 전달인자로 전달받은 클로저를 다시 반환해야 할 때
- `withoutActuallyEscaping(_:do:)`
    - 비탈출 클로저를 탈출 클로저처럼 사용할 수 있게 해준다.
- `@autoclosure`
    - 함수의 전달인자로 전달하는 표현을 자동으로 변환해주는 클로저
    - 전달인자를 가질 수 없다.
        - `() → T`의 형태만 가능
    - 클로저 문법을 사용하지 않고 클로저를 사용할 수 있도록 문법적 편의를 제공
    - 연산을 지연시킨다.
        - 클로저가 호출되기 전까지 클로저 내부의 코드가 동작하지 않기 때문
    - 코드 예시
        
        ```swift
        var customers = ["bello", "smith", "jones"]
        
        // 함수의 전달인자로 전달하는 클로저
        func serve(_ customer: () -> String) {
            print("Now Serving: \(customer())")
        }
        serve({ customers.removeFirst() })
        
        // 자동 클로저의 사용
        func serve(_ customer: @autoclosure () -> String) {
            print("Now Serving: \(customer())")
        }
        serve(customers.removeFirst())
        ```
        

### Chapter 14. 옵셔널 체이닝과 빠른 종료

- 옵셔널 체이닝
    - 프로퍼티나 메서드, 서브스크립트 등 호출하고 싶은 옵셔널 변수나 상수 뒤에 `?`를 붙여 표현
- 빠른 종료
    - `guard`문
        - `if`문보다 간결하고 가독성이 좋다.
        - 제어문 전환 명령어 (`return`, `break`, `continue`, `throw` 등)이 반드시 필요하다.
        - 함수 등 특정 블록 내부에서만 사용이 가능하다.

### Chapter 15. 맵, 필터, 리듀스

- 고차함수
    - 매개변수로 함수를 받는 함수
- `map`
    - 기존 데이터를 변형
- `filter`
    - 컨테이너 내부의 값을 걸러서 추출
- `reduce`
    - 컨테이너 내부의 콘텐츠를 하나로 합친다.
    - `reduce(_:_:)`
        - 클로저에서 매번 새로운 값을 반환
    - `reduce(into:_:)`
        - 클로저가 초기값을 직접 수정

### Chapter 16. 모나드

<aside>
💡

프로그래밍에서 모나드가 갖춰야 하는 조건

- 타입을 인자로 받는 타입(특정 타입의 값을 포장)
- 특정 타입의 값을 포장한 것을 반환하는 함수가 존재
- 포장된 값을 반환하여 같은 형태로 포장하는 함수가 존재
</aside>

- 컨텍스트
    - ‘콘텐츠를 담은 그 무엇인가’
    - ex) `Optional<Wrapped>`
        - Wrapped라는 컨텐츠를 담은 Optional 컨텍스트
- 함수 객체
    - 컨텍스트는 유지하면서 안의 컨텐츠만 변형시킬 수 있는 객체
    - ex) `map` 등
- 모나드
    - 함수객체와 `flatMap`을 이용하여 중첩된 컨텍스트를 평탄화
        - 포장된 값 내부의 포장을 풀어 값으로 사용 가능하게 해준다.
        - Swift 4.1이후부터 `flatMap` → `compactMap`로 분리